<html>
<head>
<title>Penrose canvas</title>
<script src="penrose.js"></script>
<script src="math.min.js"></script>
<script>
function foo(){
	elemento = document.getElementById('micanvas');
	if (elemento && elemento.getContext) {
		ctx = elemento.getContext('2d');}
        ctx.clearRect( 0 , 0 , ctx.width, ctx.height );
		triangles = [];
        triangles2 = [];
		goldenRatio = (1 + math.sqrt(5)) / 2;
		numerodetriangulos = 10;
        var subdivisions = document.getElementsByName("subdivisions")[0].value;
        xres = document.getElementsByName("xres")[0].value;
        yres = document.getElementsByName("yres")[0].value;
        micanvas.width = xres;
        micanvas.height = yres;
        if (subdivisions > 10) { 
            subdivisions = 10; 
        }
        console.log('SUBDIVISIONS:',subdivisions);
		CreateWheel();
        PaintTriangles(triangles);
		//var subdivisions=4;

		k=0;
		while (k != subdivisions) {
            console.log('k es:',k);
			triangles=subdivide(triangles);
			k=k+1;
		}
		PaintTriangles(triangles);
        PaintLines(triangles);
        console.log('Fin');
}
</script>

</head>

<body>
Subdivisiones <input type="text" name="subdivisions" value="6" size="1" type="number" width="40">
X resolution <input type="text" name="xres" value="1000" size="4" type="number">
Y resolution <input type="text" name="yres" value="1000" size="4" type="number">
<input type="submit" value="Submit" onclick="return foo();"/>
<canvas id="micanvas" width="1000" height="1000">
Este texto se muestra para los navegadores no compatibles con canvas.
Por favor, utiliza Firefox, Chrome, Safari u Opera.
</canvas>

</body>
</html>
